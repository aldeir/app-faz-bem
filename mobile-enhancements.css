/* Pequenas melhorias sem recompilar Tailwind */

/* Área viva para mensagens dinâmicas acessível a leitores de tela */
[aria-live][data-visually-hidden="true"] {
  position: absolute;
  width:1px;height:1px;
  margin:-1px;padding:0;border:0;overflow:hidden;
  clip:rect(0 0 0 0);clip-path:inset(50%);
}

/* Botão de ação fixo no mobile */
@media (max-width: 640px) {
  .fab-bar {
    position: fixed;
    left: 0; right: 0; bottom: 0;
    backdrop-filter: blur(10px);
    background: rgba(255,255,255,0.92);
    border-top: 1px solid #e5e7eb;
    padding: .75rem .75rem env(safe-area-inset-bottom);
    display: flex;
    gap: .75rem;
    z-index: 60;
  }
  .dark .fab-bar {
    background: rgba(15,23,42,0.85);
    border-color: #334155;
  }
  .fab-bar button, .fab-bar a {
    flex: 1;
    min-height: 3.25rem;
    font-weight: 600;
    border-radius: .75rem;
  }
  .hide-on-mobile {
    display: none !important;
  }
  body.has-fab-bottom-padding {
    padding-bottom: 4.5rem;
  }
}

/* Botões maiores para toque */
.btn-touch {
  min-height: 2.75rem;
  line-height: 1.2;
  font-weight: 600;
}

/* Foco visível consistente */
:focus-visible {
  outline: 2px solid #2563eb;
  outline-offset: 2px;
}

/* Badge offline */
.offline-badge {
  background:#991b1b;
  color:#fff;
  font-size:.625rem;
  padding:2px 6px;
  border-radius:8px;
  letter-spacing:.5px;
  text-transform:uppercase;
  margin-left:6px;
}

/* Skeleton */
.skeleton {
  position:relative;
  overflow:hidden;
  background:#e5e7eb;
}
.skeleton::after {
  content:"";
  position:absolute; inset:0;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.6),transparent);
  animation:skeleton 1.2s infinite;
}
@keyframes skeleton {
  0% {transform:translateX(-100%);}
  100% {transform:translateX(100%);}
}

/* Toast simples */
.toast-container {
  position: fixed;
  z-index:70;
  left:50%;
  transform:translateX(-50%);
  bottom: calc(1rem + env(safe-area-inset-bottom));
  display:flex;
  flex-direction:column;
  gap:.5rem;
  width: min(90%, 400px);
}
.toast {
  background:#1f2937;
  color:#f8fafc;
  padding:.75rem .9rem;
  border-radius:.75rem;
  font-size:.85rem;
  display:flex;
  gap:.6rem;
  align-items:flex-start;
  box-shadow:0 4px 16px rgba(0,0,0,.25);
  animation:fadeToast .25s ease;
}
.toast.success { background:#065f46; }
.toast.error { background:#991b1b; }
@keyframes fadeToast {
  from {opacity:0; transform:translate(-50%,8px);}
  to {opacity:1; transform:translate(-50%,0);}
}

/* Modal bottom-sheet no mobile (reutiliza modal existente com uma classe extra) */
@media (max-width:640px) {
  .bottom-sheet {
    margin:0!important;
    width:100%!important;
    max-width:none!important;
    border-radius:1.25rem 1.25rem 0 0!important;
    transform:translateY(0)!important;
  }
}
